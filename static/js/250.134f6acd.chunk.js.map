{"version":3,"file":"static/js/250.134f6acd.chunk.js","mappings":"iTAAMA,EAAU,gCACVC,EAAS,mCAAf,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACd,OAAOV,EAAuB,GAAD,OACxBF,EADwB,uCACcC,IAItC,SAASY,EAAkBC,GAChC,OAAOZ,EAAuB,GAAD,OACxBF,EADwB,gCACOC,EADP,kBACuBa,IAI/C,SAASC,EAAkBC,GAChC,OAAOd,EAAuB,GAAD,OAAIF,EAAJ,iBAAoBgB,EAApB,oBAAkCf,IAG1D,SAASgB,EAAkBD,GAChC,OAAOd,EAAuB,GAAD,OACxBF,EADwB,iBACRgB,EADQ,4BACcf,IAItC,SAASiB,EAAmBF,GACjC,OAAOd,EAAuB,GAAD,OACxBF,EADwB,kBACPgB,EADO,4BACef,M,gIC7B/B,SAASkB,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAcF,EAAaG,IAAI,SAkBrC,OAVAC,EAAAA,EAAAA,YAAU,WACY,OAAhBF,GAGJG,EAAAA,GACqBH,GAClBI,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBT,EAASS,QACjC,CAACL,IAEJM,QAAQC,IAAIZ,IAEV,4BACG,SAAC,UAAD,CAAkBa,SAlBF,SAACC,EAAD,GAA4B,IAAjBC,EAAgB,EAAhBA,UACxBC,EAAaC,OAAOH,OAAOA,GACjCV,EAAgB,CAAEX,MAAOuB,IACzBD,OAgBGf,EAAMkB,OAAS,GACd,wBACGlB,EAAMmB,KAAI,SAAAC,GAAC,OACV,yBACE,UAAC,KAAD,CAAMC,GAAE,UAAKD,EAAEzB,IAAf,cAAuByB,EAAEE,mBADlBF,EAAEzB,UAMf,mH,mGCnCF4B,EAAgB,CACpBC,KAAM,IAGFC,EAASC,EAAAA,KAAaC,MAAM,CAChCH,KAAME,EAAAA,KAEHE,IAAI,EAAG,oCACPC,SAAS,cAGC,SAASC,EAAT,GAAyC,IAAbjB,EAAY,EAAZA,SACzC,OACE,SAAC,KAAD,CACEU,cAAeA,EACfV,SAAUA,EACVkB,iBAAkBN,EAHpB,UAKE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOD,KAAK,OAAOQ,KAAK,OAAOC,YAAY,wBAC3C,SAAC,KAAD,CAAcT,KAAK,UACnB,mBAAQQ,KAAK,SAAb,2B","sources":["services/themoviedb-api.js","views/SearchMovies.jsx","views/SearchMoviesForm/SearchMoviesForm.jsx"],"sourcesContent":["const BASEURL = 'https://api.themoviedb.org/3/';\nconst APIKEY = '606cb073ea160aeac28dec084af576e2';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending() {\n  return fetchWithErrorHandling(\n    `${BASEURL}trending/movie/week?api_key=${APIKEY}`\n  );\n}\n\nexport function fetchSearchMovies(query) {\n  return fetchWithErrorHandling(\n    `${BASEURL}search/movie?api_key=${APIKEY}&query=${query}`\n  );\n}\n\nexport function fetchMovieDetails(id) {\n  return fetchWithErrorHandling(`${BASEURL}movie/${id}?api_key=${APIKEY}`);\n}\n\nexport function fetchMovieCredits(id) {\n  return fetchWithErrorHandling(\n    `${BASEURL}movie/${id}/credits?api_key=${APIKEY}`\n  );\n}\n\nexport function fetchMoviesReviews(id) {\n  return fetchWithErrorHandling(\n    `${BASEURL}/movie/${id}/reviews?api_key=${APIKEY}`\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport * as moviedbAPI from '../services/themoviedb-api';\nimport SearchMoviesForm from './SearchMoviesForm';\n\nexport default function SearchMovies() {\n  const [movie, setMovie] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n\n  const handleSubmit = (values, { resetForm }) => {\n    const inputValue = Object.values(values);\n    setSearchParams({ query: inputValue });\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (searchQuery === null) {\n      return;\n    }\n    moviedbAPI\n      .fetchSearchMovies(searchQuery)\n      .then(({ results }) => setMovie(results));\n  }, [searchQuery]);\n\n  console.log(movie);\n  return (\n    <div>\n      {<SearchMoviesForm onSubmit={handleSubmit} />}\n      {movie.length > 0 ? (\n        <ul>\n          {movie.map(m => (\n            <li key={m.id}>\n              <Link to={`${m.id}`}> {m.original_title}</Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>\n          We will not find anything on your request. Please change the request\n          and try again\n        </p>\n      )}\n    </div>\n  );\n}\n","import { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\n\nconst initialValues = {\n  name: '',\n};\n\nconst schema = yup.object().shape({\n  name: yup\n    .string()\n    .min(2, 'Must be longer than 2 characters')\n    .required('Required'),\n});\n\nexport default function SearchMoviesForm({ onSubmit }) {\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={onSubmit}\n      validationSchema={schema}\n    >\n      <Form>\n        <Field name=\"name\" type=\"text\" placeholder=\"Enter a film title\"></Field>\n        <ErrorMessage name=\"name\" />\n        <button type=\"submit\">Search</button>\n      </Form>\n    </Formik>\n  );\n}\n"],"names":["BASEURL","APIKEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchSearchMovies","query","fetchMovieDetails","id","fetchMovieCredits","fetchMoviesReviews","SearchMovies","useState","movie","setMovie","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","moviedbAPI","then","results","console","log","onSubmit","values","resetForm","inputValue","Object","length","map","m","to","original_title","initialValues","name","schema","yup","shape","min","required","SearchMoviesForm","validationSchema","type","placeholder"],"sourceRoot":""}