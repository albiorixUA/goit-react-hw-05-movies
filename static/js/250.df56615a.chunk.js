"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[250,389,171],{3714:function(n,e,t){t.d(e,{Tg:function(){return l},Y5:function(){return d},bI:function(){return f},sv:function(){return m},xc:function(){return h}});var r=t(5861),c=t(7757),a=t.n(c),u="https://api.themoviedb.org/3/",i="606cb073ea160aeac28dec084af576e2";function o(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function n(){var e,t,r,c=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:{},n.next=4,fetch(e,t);case 4:if(!(r=n.sent).ok){n.next=11;break}return n.next=8,r.json();case 8:n.t0=n.sent,n.next=12;break;case 11:n.t0=Promise.reject(new Error("Not found"));case 12:return n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n)}))),s.apply(this,arguments)}function l(){return o("".concat(u,"trending/movie/week?api_key=").concat(i))}function f(n){return o("".concat(u,"search/movie?api_key=").concat(i,"&query=").concat(n))}function d(n){return o("".concat(u,"movie/").concat(n,"?api_key=").concat(i))}function h(n){return o("".concat(u,"movie/").concat(n,"/credits?api_key=").concat(i))}function m(n){return o("".concat(u,"/movie/").concat(n,"/reviews?api_key=").concat(i))}},3250:function(n,e,t){t.r(e),t.d(e,{default:function(){return s}});var r=t(885),c=t(2791),a=t(3504),u=t(3714),i=t(6389),o=t(184);function s(){var n=(0,c.useState)(null),e=(0,r.Z)(n,2),t=e[0],s=e[1],l=(0,a.lr)(),f=(0,r.Z)(l,2),d=f[0],h=f[1],m=d.get("query");return(0,c.useEffect)((function(){null!==m&&u.bI(m).then((function(n){var e=n.results;return s(e)}))}),[m]),(0,o.jsxs)("div",{children:[(0,o.jsx)(i.default,{onSubmit:function(n,e){var t=e.resetForm,r=Object.values(n);h({query:r}),t()}}),t&&t.length>0&&(0,o.jsx)("ul",{children:t.map((function(n){return(0,o.jsx)("li",{children:(0,o.jsxs)(a.rU,{to:"".concat(n.id),children:[" ",n.original_title]})},n.id)}))}),t&&0===t.length&&(0,o.jsx)("p",{children:"We will not find anything on your request. Please change the request and try again"})]})}},6796:function(n,e,t){t.r(e),t.d(e,{default:function(){return o}});var r=t(5705),c=t(5650),a=t(184),u={name:""},i=c.Ry().shape({name:c.Z_().min(2,"Must be longer than 2 characters").required("Required")});function o(n){var e=n.onSubmit;return(0,a.jsx)(r.J9,{initialValues:u,onSubmit:e,validationSchema:i,children:(0,a.jsxs)(r.l0,{children:[(0,a.jsx)(r.gN,{name:"name",type:"text",placeholder:"Enter a film title"}),(0,a.jsx)(r.Bc,{name:"name"}),(0,a.jsx)("button",{type:"submit",children:"Search"})]})})}},6389:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(6796)}}]);
//# sourceMappingURL=250.df56615a.chunk.js.map